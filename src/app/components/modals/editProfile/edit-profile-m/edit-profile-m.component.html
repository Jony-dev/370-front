<a href="https://karabongqobe.github.io/370-Help_Manual/pages/edit-user-profile-remove-user-skill-and-remove-use.html">
  <button  type="button" class="btn btn-outline-info" style="float: right;" >Help</button>
  </a>
<div class="container-fluid modal-container">
 <button type="button" class="close" aria-label="Close" (click)="activeModal.close(profileOwner)">
    <span aria-hidden="true">&times;</span>
  </button>
 <div class="row">

    <div class="col-md-3 col-sm-0"></div>
    <div class="col-md-6 col-sm-0 text-center">
        <h1>Update Profile</h1>
    </div>

    <div class="col-md-3 col-sm-0"></div>
    <div class="col-md-6 col-sm-12">
        <h1>Your Details</h1>
        <form [formGroup]="editProfile">
        <hr>

        <div class="form-group">
            <label for="name">
              <a placement="right" ngbTooltip="Enter in your first name." style="font-size: xx-small;">
                <i class="fa fa-info-circle"></i>
              </a>
              Name</label>
            <input type="text" id="name" class="form-control" [class.is-invalid]="userName.touched && !userName.valid"
             formControlName='name' required>
        </div>
        <div class="form-group">
            <label for="surname">
              <a placement="right" ngbTooltip="Enter in your surname." style="font-size: xx-small;">
                <i class="fa fa-info-circle"></i>
              </a>
              Surname</label>
            <input type="text" id="surname"  [class.is-invalid]="userSurname.touched && !userSurname.valid" class="form-control" formControlName='surname' required>
        </div>
        <div class="form-group">
            <label for="surname">Email</label>
            <input type="text"  [class.is-invalid]="userEmail.touched && !userEmail.valid" id="surname" class="form-control" formControlName='email' pattern="^[a-z0-9._%+-]+@[a-z0-9._]+\.[a-z]{2,4}$" required>
        </div>

        <div class="form-group">
            <label for="nationality">
              <a placement="right" ngbTooltip="Select your nationality of where you were born." style="font-size: xx-small;">
                <i class="fa fa-info-circle"></i>
              </a>
              Nationality</label>
            <select name="nationality"  [class.is-invalid]="userNationality.touched && !userNationality.valid" id="nationality" formControlName='nationalityId' class="form-control">
              <option *ngFor="let item of nationality$ | async" [value]="item.nationalityId">{{item.nationality}}</option>
            </select>
        </div>
        <div class="form-group">
            <label for="country">
              <a placement="right" ngbTooltip="Select the country you are currently residing in." style="font-size: xx-small;">
                <i class="fa fa-info-circle"></i>
              </a>
              Country</label>
            <select name="country" id="country" [class.is-invalid]="userCountry.touched && !userCountry.valid" formControlName='countryId' class="form-control">
              <option *ngFor="let item of country$ | async" [value]="item.id">{{item.country}}</option>
            </select>
        </div>
        <div class="form-group">
            <label for="contact">
              <a placement="right" ngbTooltip="Enter in your current phone number." style="font-size: xx-small;">
                <i class="fa fa-info-circle"></i>
              </a>
              Contact</label>
            <input name="contact" [class.is-invalid]="userContact.touched && !userContact.valid" id="contact" formControlName='contact' class="form-control">
        </div>
        <div>
            <button (click)="changePassword()" class="btn btn-outline-primary">Reset Password</button>
            <button class="btn btn-outline-primary float-right" (click)="saveChanges()">Save Changes</button>
        </div>

        <div *ngIf="userName.invalid && (userName.dirty || userName.touched) && (userName.errors.required)" class="alert alert-danger">


                Name is required.
        </div>

      <div *ngIf=" !userName.valid && userName.touched && userName.value != ''" class="alert alert-danger" >

          Name can only consist  of letters.
      </div>

      <div *ngIf=" !userSurname.valid && userSurname.touched && userSurname.value != ''" class="alert alert-danger" >

        Surname can only consist  of letters.
      </div>

          <div *ngIf="userSurname.invalid && ( userSurname.dirty || userSurname.touched) && (userSurname.errors.required)" class="alert alert-danger">

            Surname is required
          </div>

        <div *ngIf="userContact.invalid && ( userContact.dirty || userContact.touched)" class="alert alert-danger">
          <div *ngIf="userContact.errors.required">
            Contact is required.
          </div>

          <div *ngIf="userContact.errors.maxlength">
            Contact must be smaller than 10 digits.
          </div>


        </div>



          <div *ngIf="userNationality.invalid && ( userNationality.dirty || userNationality.touched) && (userNationality.errors.required)" class="alert alert-danger">

            Nationality is required.
          </div>

          <div *ngIf="userCountry.invalid && ( userCountry.dirty || userCountry.touched) && (userCountry.errors.required)" class="alert alert-danger">

            Country is required.
          </div>

          <div *ngIf="userEmail.invalid && ( userEmail.dirty || userEmail.touched) && (userEmail.errors.required)"  class="alert alert-danger">

            Email is required.
          </div>





        </form>

    </div>
    <div class="col-md-6 col-sm-12 text-center">
        <div class="image-container" (click)="changeImage();">
            <div class="dummy"></div>
            <div class="img-holder">
                <img *ngIf="profileOwner" src="{{profileOwner.imgUrl}}" alt="">
            </div>
        </div>
        <p>Click image above to change</p>
    </div>

 </div>

 <h1 class="text-center">Your Languages and Skills</h1>
 <hr>
 <div class="row mb-4">
     <div class="col-sm-12 col-md-8">
        <app-skill class="borderShadow" [setSkills]="skills"></app-skill>
     </div>
     <div class="col-sm-12 col-md-4">
        <app-language class="borderShadow" [setLanguages]="languages"></app-language>
    </div>
 </div>
</div>
